(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"1MVt":function(e,t,a){"use strict";var n=a("q1tI"),u=a.n(n).a.createElement;t.a=function(e){return u("div",{className:e.className,style:{backgroundImage:"url(/static/images/subjects/".concat(e.id,".svg?v=1)")}},e.children)}},RNiq:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),u=a.n(n),s=a("1OyB"),o=a("JX7q"),c=a("vuIU"),r=a("md7G"),l=a("foSv"),i=a("Ji7U"),f=a("rePB"),p=a("q1tI"),d=a.n(p),m=a("8Kt/"),h=a.n(m),g=a("wOhW"),v=a("glsg"),b=a("pvp9"),y=a("5cDc"),N=a("rFDI"),O=a("i2FJ"),j=a("1MVt"),k=a("RnYt"),w=a("vDqi"),R=a.n(w),D=a("TSYQ"),P=a.n(D),T=a("R+Of"),_=d.a.createElement;function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var q=function(e){Object(i.a)(n,e);var t,a=(t=n,function(){var e,a=Object(l.a)(t);if(x()){var n=Object(l.a)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return Object(r.a)(this,e)});function n(e){var t;return Object(s.a)(this,n),t=a.call(this,e),Object(f.a)(Object(o.a)(t),"handleLanguage",(function(e){var a=e.target.value,n=t.props.data.languages;t.props.setLang(a),t.setState({playActive:n.find((function(e){return e.id==a})).subjects.length})})),t._source=R.a.CancelToken.source(),t}return Object(c.a)(n,null,[{key:"getInitialProps",value:function(e){var t,a,n,s,o;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.req,a=e.query,!(n=e.data).user.logado){c.next=11;break}if(!t){c.next=6;break}s=a.rooms,c.next=11;break;case 6:if(!n.user.logado){c.next=11;break}return c.next=9,u.a.awrap(R.a.get("/req/lastRooms",{responseType:"json"}));case 9:o=c.sent,s=o.data;case 11:return c.abrupt("return",{rooms:s});case 12:case"end":return c.stop()}}),null,null,null,Promise)}}]),Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.data.user.logado&&(this._timer=setTimeout((function(){return e.fetch()}),5e3)),this.props.setPopup(N.a.CLOSE_LOADING)}},{key:"componentWillUnmount",value:function(){this._timer&&clearTimeout(this._timer),this._source.cancel()}},{key:"fetch",value:function(){var e=this;R.a.get("/req/lastRooms",{responseType:"json",cancelToken:this._source.token}).then((function(t){t.data&&e.setState({rooms:t.data}),e._timer=setTimeout((function(){return e.fetch()}),5e3)})).catch((function(t){R.a.isCancel(t)||(e._timer=setTimeout((function(){return e.fetch()}),5e3))}))}},{key:"playHome",value:function(){this.state.playActive&&this.play()}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.user,n=a.logado,u=a.avatar,s=t.languages,o=this.props.setPopup,c=this.state,r=c.name,l=c.rooms,i=c.playActive,f=this.props.lang.index,p=this.props.lang.social,m=this.props.lang.subjects,v=[];if(n&&l.length<4)for(var b=0;b<4-l.length;b++)v.push(_("li",{className:"empty",key:b},_("div",{className:"figure"}),_("div",{className:"infosRoom"},_("h5",null),_("div",null,_("span",null),_("span",null),_("span",null)))));return _(g.a,{home:!0,fixed:!0},_(h.a,null,_("title",null,"Gartic.io - Draw, Guess, WIN"),_("meta",{name:"description",content:"Play Gartic.io online and for free. Draw and guess the words as fast as you can! Join on worldwide rooms or create your own."})),_("div",{className:"title mobileHide"},_(T.a,{title:f.title})),_("div",{className:"content home"},_("div",{className:"anonymus"},_("div",{className:"form"},_("h3",null,f.subtitleQuickPlay),n?_(d.a.Fragment,null,_(O.a,{url:u}),_("a",{href:"/logout?home",className:"exit ic-logout"},_("p",null,f.logout))):_(O.a,{type:u},_("button",{className:"selectAvatar",onClick:function(){return o(N.a.AVATAR,{avatar:u,cb:e.changeAvatar})}})),_("div",{className:"containerForm"},_("div",{className:"fieldset nick"},_("span",null,f.nick),_("label",{className:"text"},_("input",{type:"text",value:r,onChange:this.changeName,maxLength:"18"}))),_("div",{className:"fieldset lang"},_("span",null,f.language),_("label",{className:"select"},_("select",{name:"language",value:this.props.lang.id,onChange:this.handleLanguage},_("optgroup",{label:f.themesAvailable},s.filter((function(e){return e.subjects.length})).map((function(e){return _("option",{value:e.id,key:"lang"+e.id},e.name)}))),_("optgroup",{label:f.withoutThemes},s.filter((function(e){return!e.subjects.length})).map((function(e){return _("option",{value:e.id,key:"lang"+e.id},e.name)})))))))),_("div",{className:"actions"},_("button",{className:"btBlueBig ic-rooms",onClick:function(){return e.nextScreen("/rooms")}},_("strong",null,f.rooms)),_("button",{className:"btYellowBig ic-playHome",onClick:function(){return e.playHome()},disabled:!i},_("strong",null,f.play),_("span",null,f.notOfficialTheme1,_("br",null),f.notOfficialTheme2)))),_("div",{className:"or"},_("span",null,f.or)),n?_("div",{className:"lastRooms"},_("h3",null,f.lastRooms),_("div",null,_(y.a,null,l.length>0?_("ul",null,l.map((function(t){return _("li",{key:t.id,className:P()({official:t.official,bgEmptyRoom:0==t.quant})},_(j.a,{className:"figure",id:t.subject}),_("div",{className:"infosRoom"},_("h5",null,_("strong",null,m[t.subject]),"#",t.id.substr(1),t.official&&_("i",{className:"official"})),_("div",null,_("span",{className:P()("ic-user",{emptyRoom:0==t.quant,full:t.quant>=t.max})},t.quant+"/"+t.max),_("span",{className:"ic-lang"},Object(k.a)(s,t.lang,"iso")),_("span",{className:"ic-trophy"},t.points+"/"+t.goal))),_("span",{className:"ic-playLast",onClick:function(){return e.play(t.code)}},f.play))})),v):_("div",{className:"visibleRoom"},_("div",{className:"figure"}),_("p",null,f.visibleRoom))))):_("div",{className:"login"},_("div",null,_("h3",null,f.loginHere),_("div",{className:"advantagesLogin"},_("span",null,_("p",null,f.newThemes)),_("span",null,_("p",null,f.favoriteRooms)),_("span",null,_("p",null,f.chatToPlayers))),_("div",{className:"wrapper-login"},_("span",{className:"choose-login"},_("p",null,f.chooseLogin)),_("div",{className:"actionsRS"},_("span",null,_("a",{className:"loginTwitter ic-TwHome",href:"/auth/twitter"},_("span",null,p.twitter)),_("a",{className:"loginFacebook ic-FbHome",href:"/auth/facebook"},_("span",null,p.facebook)),_("a",{className:"loginGoogle ic-GoHome",href:"/auth/google"},_("span",null,p.google))),_("span",null,_("a",{className:"loginVK ic-VKHome",href:"/auth/vk"},_("span",null,p.vk)),_("a",{className:"loginReddit ic-RDHome",href:"/auth/reddit"},_("span",null,p.reddit)),_("a",{className:"loginDiscord ic-DCHome",href:"/auth/discord"},_("span",null,p.discord)))))))))}}]),n}(v.a);t.default=Object(b.a)(q)},RnYt:function(e,t,a){"use strict";var n=a("rePB");t.a=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name";return(e.find((function(e){return e.id==t}))||Object(n.a)({},a,""))[a]}},glsg:function(e,t,a){"use strict";var n=a("1OyB"),u=a("vuIU"),s=a("JX7q"),o=a("md7G"),c=a("foSv"),r=a("Ji7U"),l=a("rePB"),i=a("q1tI"),f=a.n(i),p=a("nOHt"),d=a.n(p),m=a("vDqi"),h=a.n(m),g=a("rFDI");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var N=function(e){Object(r.a)(i,e);var t,a=(t=i,function(){var e,a=Object(c.a)(t);if(y()){var n=Object(c.a)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return Object(o.a)(this,e)});function i(e){var t;Object(n.a)(this,i),t=a.call(this,e),Object(l.a)(Object(s.a)(t),"changeAvatar",(function(e){var a=t.props.data.user;a.logado||t.props.setData({user:b({},a,{avatar:e})})})),Object(l.a)(Object(s.a)(t),"changeName",(function(e){var a=e.target.value;t.setState({name:a})})),Object(l.a)(Object(s.a)(t),"play",(function(e){t._checkData()&&t.props.joinGame(e)}));var u=t.props,o=u.rooms,c=u.ios,r=u.data,f=r.user,p=r.languages;return t.state={name:f.nome,rooms:o,ios:c,playActive:p.find((function(e){return e.id==f.language})).subjects.length},t._lang=e.lang.home,t}return Object(u.a)(i,[{key:"_checkData",value:function(){var e=this.state.name,t=this.props.data.user,a=e.trim().replace(/\s+/g," ");return!/^[^<>/\\:&;"'.,!?{}*\[\]]{2,18}$/i.test(a)||/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/.test(a)?(this.props.setPopup(g.a.ALERT,{text:this._lang.invalidNick,icon:"iconErro"}),!1):(this.props.setData({user:b({},t,{nome:e})}),!0)}},{key:"nextScreen",value:function(e){if(this._checkData()){var t=this.state.name,a=this.props.data.user,n=a.avatar,u=a.language;h.a.post("/req/user",{name:t,avatar:n,language:u}),d.a.push(e)}}}]),i}(f.a.Component);t.a=N},vlRD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a("RNiq")}])}},[["vlRD",0,2,5,1,4,3,6]]]);